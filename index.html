<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8" />
        <title>Socket.io</title>
    </head>

    <body>
        <h1>Bienvenue dans le jeu du Tauptaup !</h1>

        <select id="difficulty">
          <option value="0">Petite bouze</option>
          <option value="3000">Taupe de jardin</option>
          <option value="1000">Taupe d'élite</option>
          <option value="500">Hard-Taupe</option>
        </select> 
        <p id='score'>Score : 0</p>
        <button onclick="clickJouer()" id="btnJouer">Jouer !</button>
        
        <table id="rankPlayer" visible='false'>
           <tr>
               <th><img id="img1" src="images/rondBleu.png"/></th>
               <th><img id="img2" src="images/rondBleu.png"/></th>
               <th><img id="img3" src="images/rondBleu.png"/></th>
               <th><img id="img4" src="images/rondBleu.png"/></th>
           </tr>
            <tr>
               <th><img id="img5" src="images/rondBleu.png"/></th>
               <th><img id="img6" src="images/rondBleu.png"/></th>
               <th><img id="img7" src="images/rondBleu.png"/></th>
               <th><img id="img8" src="images/rondBleu.png"/></th>
           </tr>
            <tr>
               <th><img id="img9" src="images/rondBleu.png"/></th>
               <th><img id="img10" src="images/rondBleu.png"/></th>
               <th><img id="img11" src="images/rondBleu.png"/></th>
               <th><img id="img12" src="images/rondBleu.png"/></th>
           </tr>
            <tr>
               <th><img id="img13" src="images/rondBleu.png"/></th>
               <th><img id="img14" src="images/rondBleu.png"/></th>
               <th><img id="img15" src="images/rondBleu.png"/></th>
               <th><img id="img16" src="images/rondBleu.png"/></th>
           </tr>
        </table>
        <img src="images/photo.png"/>
        
    </body>
</html>

<script src="socket.io/socket.io.js"></script>
<script >
    var actualValue = 1;

    var socket = io.connect('http://127.0.0.1:8080');
    socket.on('message', function(message) {
        //~ alert('/!\ Réponse du serveur : ' + message);
        console.log("Message du serveur : " + message)
    });

    socket.on('newValue', function(value){
       console.log("Nouvelle valeur : "+ value); 
       document.images["img" + actualValue].src = "images/rondBleu.png";
       actualValue = value;
       document.images["img" + value].src = "images/rondRouge.png";
    });
    socket.on('newScore', function(score){
        document.getElementById("score").innerHTML = "Score : " + score;
    });
    
    
    clickJouer = function () {
        console.log("click jouer");
        //Faut envoyer la difficulté !!!
        console.log(document.getElementById("difficulty").value)
        socket.emit('jouer', document.getElementById("difficulty").value)};
        //document.getElementById("btnJouer").style.visibility = "hidden";
    var name = '';
</script>
